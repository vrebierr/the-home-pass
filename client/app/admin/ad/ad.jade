div(ng-include='"components/navbar/navbar.html"')

.wrapper.row-offcanvas.row-offcanvas-left
    aside.left-side.sidebar-offcanvas
        div(ng-include='"components/sidebar/sidebar.html"')
    aside.right-side
        section.content-header
            h1 Annonces
        section.content
            .row
                .col-xs-12
                    ng-table(model='ads', type='ad')

script(type='text/ng-template', id='modal.html')
    .modal-primary
        .modal-header
            button.close(type='button', ng-click='$dismiss()') &times;
            h4.modal-title {{ ad._id && 'Modifier une annonce' || 'Ajouter une nouvelle annonce'}}
        .modal-body
            form.form
                .input-form
                    label Auteur
                    p {{ad.author.name}}
                .input-form
                    label Catégorie
                    select.form-control(ng-model='ad.category._id', ng-options='item._id as item.name for item in categories', required='')
                .input-form
                    label Montant
                    input.form-control(type='text', ng-model='ad.value', required='')
                .input-form
                    label Dates
                    input.form-control(type='text', ng-model='ad.dateRange', required='')
                .input-form
                    label Status
                    select.form-control(ng-model='ad.status', ng-options='item.id as item.name for item in status', required='')

        .modal-footer
            button.btn.btn-primary(ng-click='$close()') {{ category._id && 'Modifier' || 'Ajouter'}}
            button.btn.btn-default(ng-click='$dismiss()') Annuler

script(type='text/ng-template', id='confirm.html')
    .modal-danger
        .modal-header
            button.close(type='button', ng-click='$dismiss()') &times;
            h4.modal-title Confirmation
        .modal-body
            p Êtes vous certain de vouloir supprimer cette annonce ?
        .modal-footer
            button.btn.btn-danger(ng-click='$close()') Supprimer
            button.btn.btn-default(ng-click='$dismiss()') Annuler
